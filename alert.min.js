var strTestStatus=-1===window.location.hash.indexOf("uwalert")?"false":"true",strDomain="localhost"==window.location.hostname?"localhost":"www.washington.edu/static",strDataFeed="/UW-Alert-Banner/alert/?c=displayAlert&test="+strTestStatus,strBaseUrl=window.location.protocol+"//"+strDomain,strScript=document.createElement("script");strScript.setAttribute("src",strBaseUrl+strDataFeed);document.getElementsByTagName("head")[0].appendChild(strScript);
function displayAlert(a){if(!a||0==a.found)return!1;arrAlertTypes={"red-alert-urgent":"uwalert-red","orange-alert":"uwalert-orange","steel-alert-fyis":"uwalert-steel"};var g=a.posts[0].categories;if(-1!=window.location.hash.indexOf("uwalert")){var c={},b=window.location.hash.replace("#","");c.slug=b;g["Fake Category"]=c}b=!1;for(strCategory in g){var e=g[strCategory];if(arrAlertTypes[e.slug]||c)var h=a.posts[0].title,f="http://emergency.washington.edu/",d=a.posts[0].excerpt,j=arrAlertTypes[e.slug]?
arrAlertTypes[e.slug]:c.slug,b=!0}b&&(addElement(h,f,j,d),a=document.createElement("link"),a.setAttribute("href",strBaseUrl+"/UW-Alert-Banner/uwalert.css"),a.setAttribute("rel","stylesheet"),a.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(a),setTimeout(function(){var a=document.getElementById("uwalert-alert-message").offsetHeight;document.getElementsByTagName("body")[0].style.backgroundPosition="0px "+a+"px"},10))}
function addElement(a,g,c,b){var e=document.getElementsByTagName("body")[0];e.className+=" uw-alert";var h=document.createElement("div");h.setAttribute("id","uwalert-alert-message");h.setAttribute("class",c);var f=document.createElement("div");f.setAttribute("id","uwalert-alert-inner");f.setAttribute("class",c);var d=document.createElement("a");d.setAttribute("href",g);d.setAttribute("title",a);c=document.createElement("div");c.setAttribute("id","uwalert-alert-header");try{d.innerHTML=a}catch(j){var i=
document.createTextNode(a);d.appendChild(i)}c.appendChild(d);d=document.createElement("p");i=document.createElement("div");i.innerHTML=b;b=i.textContent||i.innerText||"";b=document.createTextNode(b.substring(0,360)+(360<=b.length?"... ":" "));d.appendChild(b);b=document.createElement("a");b.setAttribute("href",g);b.setAttribute("title",a);a=document.createTextNode("More Info");b.appendChild(a);d.appendChild(b);f.appendChild(c);f.appendChild(d);h.appendChild(f);e.insertBefore(h,e.firstChild)};
