var strProto="https:"==window.location.protocol?"https://":"http://",test_status=-1===window.location.hash.indexOf("uwalert")?"false":"true",strDomain="localhost"==window.location.hostname?"localhost":"www.washington.edu/static",strDataFeed="/UW-Alert-Banner/alert/?c=displayAlert&test="+test_status,strScript=document.createElement("script");strScript.setAttribute("src",strProto+strDomain+strDataFeed);document.getElementsByTagName("head")[0].appendChild(strScript);
function displayAlert(b){if(!b||0==b.found)return!1;arrAlertTypes={"red-alert-urgent":"uwalert-red","orange-alert":"uwalert-orange","steel-alert-fyis":"uwalert-steel"};for(strCategory in b.posts[0].categories){if(-1!=window.location.hash.indexOf("uwalert"))var h=window.location.hash.replace("#","");var c=b.posts[0].categories[strCategory];if(arrAlertTypes[c.slug]||h)var a=b.posts[0].title,d="http://emergency.washington.edu/",e=b.posts[0].excerpt,f=arrAlertTypes[c.slug]?arrAlertTypes[c.slug]:h}f&&
addElement(a,d,f,e)}
function addElement(b,h,c,a){var d=document.getElementsByTagName("body")[0];d.style.margin="0px";d.style.padding="0px";d.className+=" uw-alert";var e=document.createElement("div");e.setAttribute("id","uwalert-alert-message");e.setAttribute("class",c);var c=document.createElement("div"),f=document.createElement("h1"),g="";try{f.innerHTML=b}catch(j){g=document.createTextNode(b),f.appendChild(g)}var g=document.createElement("p"),i=document.createElement("div");i.innerHTML=a;a=i.textContent||i.innerText||
"";a=document.createTextNode(a.substring(0,360)+(360<=a.length?"... ":" "));g.appendChild(a);a=document.createElement("a");a.setAttribute("href",h);a.setAttribute("title",b);b=document.createTextNode("More Info");a.appendChild(b);g.appendChild(a);c.appendChild(f);c.appendChild(g);e.appendChild(c);d.insertBefore(e,d.firstChild)}var strCSS=document.createElement("link");strCSS.setAttribute("href",strProto+strDomain+"/UW-Alert-Banner/uwalert.css");strCSS.setAttribute("rel","stylesheet");
strCSS.setAttribute("type","text/css");document.getElementsByTagName("head")[0].appendChild(strCSS);
