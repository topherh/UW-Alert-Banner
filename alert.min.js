var strProto="https:"==window.location.protocol?"https://":"http://",test_status=-1===window.location.hash.indexOf("uwalert")?"false":"true",strDomain="localhost"==window.location.hostname?"localhost":"www.washington.edu/static",strDataFeed="/UW-Alert-Banner/alert/?c=displayAlert&test="+test_status,strScript=document.createElement("script");strScript.setAttribute("src",strProto+strDomain+strDataFeed);document.getElementsByTagName("head")[0].appendChild(strScript);
function displayAlert(b){if(!b||0==b.found)return!1;arrAlertTypes={"red-alert-urgent":"uwalert-red","orange-alert":"uwalert-orange","steel-alert-fyis":"uwalert-steel"};var h=b.posts[0].categories;if(-1!=window.location.hash.indexOf("uwalert")){var c={},a=window.location.hash.replace("#","");c.slug=a;h["Fake Category"]=c}for(strCategory in h){var e=!1,a=h[strCategory];if(arrAlertTypes[a.slug]||c)var g=b.posts[0].title,f="http://emergency.washington.edu/",d=b.posts[0].excerpt,j=arrAlertTypes[a.slug]?
arrAlertTypes[a.slug]:c.slug,e=!0}e&&(addElement(g,f,j,d),b=document.createElement("link"),b.setAttribute("href",strProto+strDomain+"/UW-Alert-Banner/uwalert.css"),b.setAttribute("rel","stylesheet"),b.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(b))}
function addElement(b,h,c,a){var e=document.getElementsByTagName("body")[0];e.className+=" uw-alert";var g=document.createElement("div");g.setAttribute("id","uwalert-alert-message");g.setAttribute("class",c);var f=document.createElement("div");f.setAttribute("id","uwalert-alert-inner");f.setAttribute("class",c);c=document.createElement("div");c.setAttribute("id","uw-alert-header");var d="";try{c.innerHTML=b}catch(j){d=document.createTextNode(b),c.appendChild(d)}var d=document.createElement("p"),i=
document.createElement("div");i.innerHTML=a;a=i.textContent||i.innerText||"";a=document.createTextNode(a.substring(0,360)+(360<=a.length?"... ":" "));d.appendChild(a);a=document.createElement("a");a.setAttribute("href",h);a.setAttribute("title",b);b=document.createTextNode("More Info");a.appendChild(b);d.appendChild(a);f.appendChild(c);f.appendChild(d);g.appendChild(f);e.insertBefore(g,e.firstChild)};
